name: MES项目CI

on:
  push:
    branches: [ develop, main ]
  pull_request:
    branches: [ develop, main ]

jobs:
  test:
    name: 基础检查
    runs-on: windows-latest
    
    steps:
    - name: 检出代码
      uses: actions/checkout@v4

    - name: 基础检查
      run: |
        echo "🔍 执行基础检查..."
        echo "✅ 代码检出成功"
        echo "✅ 工作流语法正确"
        echo "✅ 环境运行正常"
        
        # 检查项目结构
        if (Test-Path "src") {
          echo "✅ src目录存在"
        } else {
          echo "❌ src目录不存在"
        }
        
        # 检查解决方案文件
        $slnFiles = Get-ChildItem -Filter "*.sln"
        if ($slnFiles.Count -gt 0) {
          echo "✅ 找到解决方案文件: $($slnFiles[0].Name)"
        } else {
          echo "❌ 未找到解决方案文件"
        }
        
        echo "🎉 CI检查完成！"
