name: å‘å¸ƒç®¡ç†

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:
    inputs:
      version:
        description: 'å‘å¸ƒç‰ˆæœ¬å· (ä¾‹å¦‚: v1.0.0)'
        required: true
        type: string
      release_notes:
        description: 'å‘å¸ƒè¯´æ˜'
        required: false
        type: string
        default: 'å¸¸è§„ç‰ˆæœ¬å‘å¸ƒ'

env:
  BUILD_CONFIGURATION: 'Release'
  DOTNET_VERSION: '4.8'

jobs:
  create-release:
    name: åˆ›å»ºå‘å¸ƒç‰ˆæœ¬
    runs-on: windows-latest
    
    outputs:
      version: ${{ steps.version.outputs.version }}
      release_id: ${{ steps.create_release.outputs.id }}
    
    steps:
    - name: æ£€å‡ºä»£ç 
      uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - name: ç¡®å®šç‰ˆæœ¬å·
      id: version
      run: |
        if ("${{ github.event_name }}" -eq "workflow_dispatch") {
          $version = "${{ github.event.inputs.version }}"
        } else {
          $version = "${{ github.ref_name }}"
        }
        
        # ç¡®ä¿ç‰ˆæœ¬å·æ ¼å¼æ­£ç¡®
        if ($version -notmatch '^v\d+\.\d+\.\d+') {
          echo "âŒ ç‰ˆæœ¬å·æ ¼å¼é”™è¯¯ï¼Œåº”ä¸º vX.Y.Z æ ¼å¼"
          exit 1
        }
        
        echo "version=$version" >> $env:GITHUB_OUTPUT
        echo "âœ… ç‰ˆæœ¬å·: $version"

    - name: ç”Ÿæˆå˜æ›´æ—¥å¿—
      id: changelog
      run: |
        echo "ğŸ“ ç”Ÿæˆå˜æ›´æ—¥å¿—..."
        
        # è·å–ä¸Šä¸€ä¸ªæ ‡ç­¾
        $lastTag = git describe --tags --abbrev=0 HEAD^ 2>$null
        if (-not $lastTag) {
          $lastTag = "HEAD~10"  # å¦‚æœæ²¡æœ‰æ ‡ç­¾ï¼Œä½¿ç”¨æœ€è¿‘10ä¸ªæäº¤
        }
        
        echo "ä» $lastTag åˆ°å½“å‰çš„å˜æ›´ï¼š"
        
        # ç”Ÿæˆå˜æ›´æ—¥å¿—
        $changelog = @"
        ## ğŸš€ æ–°åŠŸèƒ½
        $(git log $lastTag..HEAD --pretty=format:"- %s" --grep="feat:" --grep="add:" --grep="æ–°å¢" | Select-Object -First 10)
        
        ## ğŸ› é—®é¢˜ä¿®å¤
        $(git log $lastTag..HEAD --pretty=format:"- %s" --grep="fix:" --grep="ä¿®å¤" --grep="bug:" | Select-Object -First 10)
        
        ## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–
        $(git log $lastTag..HEAD --pretty=format:"- %s" --grep="perf:" --grep="ä¼˜åŒ–" --grep="performance" | Select-Object -First 5)
        
        ## ğŸ“š æ–‡æ¡£æ›´æ–°
        $(git log $lastTag..HEAD --pretty=format:"- %s" --grep="docs:" --grep="æ–‡æ¡£" | Select-Object -First 5)
        
        ## ğŸ”§ å…¶ä»–å˜æ›´
        $(git log $lastTag..HEAD --pretty=format:"- %s" --oneline | Select-Object -First 20)
        "@
        
        # ä¿å­˜åˆ°æ–‡ä»¶
        $changelog | Out-File -FilePath "CHANGELOG.md" -Encoding UTF8
        echo "âœ… å˜æ›´æ—¥å¿—ç”Ÿæˆå®Œæˆ"

    - name: åˆ›å»ºGitHub Release
      id: create_release
      uses: actions/create-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        tag_name: ${{ steps.version.outputs.version }}
        release_name: MESç³»ç»Ÿ ${{ steps.version.outputs.version }}
        body: |
          # MESåˆ¶é€ æ‰§è¡Œç³»ç»Ÿ ${{ steps.version.outputs.version }}
          
          **å‘å¸ƒæ—¶é—´**: ${{ github.event.head_commit.timestamp }}
          **æäº¤å“ˆå¸Œ**: ${{ github.sha }}
          
          ## ğŸ“‹ å‘å¸ƒè¯´æ˜
          ${{ github.event.inputs.release_notes || 'å¸¸è§„ç‰ˆæœ¬å‘å¸ƒï¼ŒåŒ…å«åŠŸèƒ½æ”¹è¿›å’Œé—®é¢˜ä¿®å¤' }}
          
          ## ğŸ“¦ ä¸‹è½½è¯´æ˜
          - `mes-system-${{ steps.version.outputs.version }}-full.zip`: å®Œæ•´å®‰è£…åŒ…ï¼ˆåŒ…å«åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“è„šæœ¬ï¼‰
          - `mes-system-${{ steps.version.outputs.version }}-app.zip`: ä»…åº”ç”¨ç¨‹åº
          - `mes-system-${{ steps.version.outputs.version }}-database.zip`: ä»…æ•°æ®åº“è„šæœ¬
          - `mes-system-${{ steps.version.outputs.version }}-docs.zip`: æ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—
          
          ## ğŸ”§ ç³»ç»Ÿè¦æ±‚
          - Windows 10/11 æˆ– Windows Server 2016+
          - .NET Framework 4.8
          - MySQL 8.0+
          - 4GB RAM (æ¨è 8GB+)
          
          ## ğŸ“š å¿«é€Ÿå¼€å§‹
          1. ä¸‹è½½å®Œæ•´å®‰è£…åŒ…
          2. è§£å‹åˆ°ç›®æ ‡ç›®å½•
          3. æŒ‰ç…§éƒ¨ç½²æŒ‡å—é…ç½®æ•°æ®åº“
          4. è¿è¡Œ MES.UI.exe å¯åŠ¨åº”ç”¨
          
          è¯¦ç»†éƒ¨ç½²è¯´æ˜è¯·å‚è€ƒæ–‡æ¡£åŒ…ä¸­çš„ã€ŠMESç³»ç»Ÿéƒ¨ç½²è¿ç»´æŒ‡å—.mdã€‹
        draft: false
        prerelease: false

  build-release:
    name: æ„å»ºå‘å¸ƒåŒ…
    runs-on: windows-latest
    needs: create-release
    
    steps:
    - name: æ£€å‡ºä»£ç 
      uses: actions/checkout@v4

    - name: è®¾ç½®MSBuild
      uses: microsoft/setup-msbuild@v2

    - name: è®¾ç½®NuGet
      uses: nuget/setup-nuget@v1

    - name: è¿˜åŸNuGetåŒ…
      run: nuget restore MES.sln

    - name: æ„å»ºå‘å¸ƒç‰ˆæœ¬
      run: |
        echo "ğŸ”¨ æ„å»ºå‘å¸ƒç‰ˆæœ¬..."
        msbuild MES.sln /p:Configuration=${{ env.BUILD_CONFIGURATION }} /p:Platform="Any CPU" /p:OutputPath="bin\Release\"
        
        if ($LASTEXITCODE -eq 0) {
          echo "âœ… å‘å¸ƒç‰ˆæœ¬æ„å»ºæˆåŠŸ"
        } else {
          echo "âŒ å‘å¸ƒç‰ˆæœ¬æ„å»ºå¤±è´¥"
          exit 1
        }

    - name: åˆ›å»ºåº”ç”¨ç¨‹åºåŒ…
      run: |
        echo "ğŸ“¦ åˆ›å»ºåº”ç”¨ç¨‹åºåŒ…..."
        $appPackagePath = "release-packages/app"
        New-Item -ItemType Directory -Path $appPackagePath -Force
        
        # å¤åˆ¶ä¸»è¦åº”ç”¨ç¨‹åºæ–‡ä»¶
        $sourceDir = "src/MES.UI/bin/${{ env.BUILD_CONFIGURATION }}"
        if (Test-Path $sourceDir) {
          Copy-Item -Path "$sourceDir/*" -Destination $appPackagePath -Recurse -Force
          echo "âœ… åº”ç”¨ç¨‹åºæ–‡ä»¶å¤åˆ¶å®Œæˆ"
        }
        
        # å¤åˆ¶ä¾èµ–çš„DLL
        $dependencies = @(
          "src/MES.Common/bin/${{ env.BUILD_CONFIGURATION }}",
          "src/MES.Models/bin/${{ env.BUILD_CONFIGURATION }}",
          "src/MES.DAL/bin/${{ env.BUILD_CONFIGURATION }}",
          "src/MES.BLL/bin/${{ env.BUILD_CONFIGURATION }}"
        )
        
        foreach ($dep in $dependencies) {
          if (Test-Path $dep) {
            Copy-Item -Path "$dep/*.dll" -Destination $appPackagePath -Force
            Copy-Item -Path "$dep/*.pdb" -Destination $appPackagePath -Force -ErrorAction SilentlyContinue
          }
        }
        
        # åˆ›å»ºé…ç½®æ–‡ä»¶æ¨¡æ¿
        @"
        <?xml version="1.0" encoding="utf-8"?>
        <configuration>
          <connectionStrings>
            <add name="MESConnection" 
                 connectionString="Server=localhost;Database=mes_system;Uid=mes_user;Pwd=è¯·ä¿®æ”¹å¯†ç ;CharSet=utf8mb4;" 
                 providerName="MySql.Data.MySqlClient" />
          </connectionStrings>
          
          <appSettings>
            <add key="SystemName" value="MESåˆ¶é€ æ‰§è¡Œç³»ç»Ÿ" />
            <add key="SystemVersion" value="${{ needs.create-release.outputs.version }}" />
            <add key="LogLevel" value="INFO" />
            <add key="LogPath" value="Logs\" />
          </appSettings>
          
          <startup>
            <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.8" />
          </startup>
        </configuration>
        "@ | Out-File -FilePath "$appPackagePath/App.config.template" -Encoding UTF8
        
        echo "âœ… åº”ç”¨ç¨‹åºåŒ…åˆ›å»ºå®Œæˆ"

    - name: åˆ›å»ºæ•°æ®åº“åŒ…
      run: |
        echo "ğŸ—„ï¸ åˆ›å»ºæ•°æ®åº“åŒ…..."
        $dbPackagePath = "release-packages/database"
        New-Item -ItemType Directory -Path $dbPackagePath -Force
        
        # å¤åˆ¶æ•°æ®åº“è„šæœ¬
        if (Test-Path "database") {
          Copy-Item -Path "database/*" -Destination $dbPackagePath -Recurse -Force
          echo "âœ… æ•°æ®åº“è„šæœ¬å¤åˆ¶å®Œæˆ"
        }
        
        # åˆ›å»ºæ•°æ®åº“éƒ¨ç½²è„šæœ¬
        @"
        @echo off
        echo MESç³»ç»Ÿæ•°æ®åº“éƒ¨ç½²è„šæœ¬
        echo ========================
        echo.
        
        set /p MYSQL_HOST=è¯·è¾“å…¥MySQLæœåŠ¡å™¨åœ°å€ (é»˜è®¤: localhost): 
        if "%MYSQL_HOST%"=="" set MYSQL_HOST=localhost
        
        set /p MYSQL_USER=è¯·è¾“å…¥MySQLç”¨æˆ·å (é»˜è®¤: root): 
        if "%MYSQL_USER%"=="" set MYSQL_USER=root
        
        set /p MYSQL_PASSWORD=è¯·è¾“å…¥MySQLå¯†ç : 
        
        echo.
        echo å¼€å§‹éƒ¨ç½²æ•°æ®åº“...
        echo.
        
        echo 1. åˆ›å»ºæ•°æ®åº“å’ŒåŸºç¡€è¡¨...
        mysql -h %MYSQL_HOST% -u %MYSQL_USER% -p%MYSQL_PASSWORD% < mysql\01_create_database.sql
        if errorlevel 1 goto error
        
        echo 2. åˆ›å»ºä¸šåŠ¡è¡¨...
        mysql -h %MYSQL_HOST% -u %MYSQL_USER% -p%MYSQL_PASSWORD% < mysql\02_create_business_tables.sql
        if errorlevel 1 goto error
        
        echo 3. æ’å…¥åˆå§‹æ•°æ®...
        mysql -h %MYSQL_HOST% -u %MYSQL_USER% -p%MYSQL_PASSWORD% < mysql\03_insert_initial_data.sql
        if errorlevel 1 goto error
        
        echo 4. åˆ›å»ºç´¢å¼•å’Œå­˜å‚¨è¿‡ç¨‹...
        mysql -h %MYSQL_HOST% -u %MYSQL_USER% -p%MYSQL_PASSWORD% < mysql\04_create_indexes_and_procedures.sql
        if errorlevel 1 goto error
        
        echo.
        echo âœ… æ•°æ®åº“éƒ¨ç½²å®Œæˆï¼
        echo.
        echo é»˜è®¤ç®¡ç†å‘˜è´¦å·: admin / 123456
        echo å›¢é˜Ÿæˆå‘˜è´¦å·: tianDi/123456, userL/123456, userH/123456, userS/123456
        echo.
        pause
        goto end
        
        :error
        echo.
        echo âŒ æ•°æ®åº“éƒ¨ç½²å¤±è´¥ï¼è¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯ã€‚
        echo.
        pause
        
        :end
        "@ | Out-File -FilePath "$dbPackagePath/deploy_database.bat" -Encoding Default
        
        echo "âœ… æ•°æ®åº“åŒ…åˆ›å»ºå®Œæˆ"

    - name: åˆ›å»ºæ–‡æ¡£åŒ…
      run: |
        echo "ğŸ“š åˆ›å»ºæ–‡æ¡£åŒ…..."
        $docsPackagePath = "release-packages/docs"
        New-Item -ItemType Directory -Path $docsPackagePath -Force
        
        # å¤åˆ¶æ–‡æ¡£æ–‡ä»¶
        $docFiles = @(
          "README.md",
          "docs/*.md",
          "database/mysql/README.md"
        )
        
        foreach ($pattern in $docFiles) {
          $files = Get-ChildItem -Path $pattern -ErrorAction SilentlyContinue
          foreach ($file in $files) {
            $targetPath = Join-Path $docsPackagePath $file.Name
            Copy-Item -Path $file.FullName -Destination $targetPath -Force
            echo "âœ… å·²å¤åˆ¶æ–‡æ¡£: $($file.Name)"
          }
        }
        
        # åˆ›å»ºå‘å¸ƒè¯´æ˜
        @"
        # MESåˆ¶é€ æ‰§è¡Œç³»ç»Ÿ ${{ needs.create-release.outputs.version }}
        
        ## ğŸ“¦ å‘å¸ƒåŒ…å†…å®¹
        
        ### åº”ç”¨ç¨‹åºåŒ… (mes-system-${{ needs.create-release.outputs.version }}-app.zip)
        - MES.UI.exe - ä¸»åº”ç”¨ç¨‹åº
        - ç›¸å…³DLLæ–‡ä»¶å’Œä¾èµ–
        - App.config.template - é…ç½®æ–‡ä»¶æ¨¡æ¿
        
        ### æ•°æ®åº“åŒ… (mes-system-${{ needs.create-release.outputs.version }}-database.zip)
        - MySQLæ•°æ®åº“è„šæœ¬
        - è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
        - å¤‡ä»½æ¢å¤è„šæœ¬
        - æ€§èƒ½ç›‘æ§è„šæœ¬
        
        ### æ–‡æ¡£åŒ… (mes-system-${{ needs.create-release.outputs.version }}-docs.zip)
        - ç³»ç»Ÿè¯´æ˜æ–‡æ¡£
        - éƒ¨ç½²è¿ç»´æŒ‡å—
        - æ•°æ®åº“è®¾è®¡æ–‡æ¡£
        - ç”¨æˆ·æ“ä½œæ‰‹å†Œ
        
        ## ğŸš€ å¿«é€Ÿéƒ¨ç½²
        
        1. **ç¯å¢ƒå‡†å¤‡**
           - å®‰è£… .NET Framework 4.8
           - å®‰è£… MySQL 8.0
           - ç¡®ä¿é˜²ç«å¢™å…è®¸MySQLç«¯å£(3306)è®¿é—®
        
        2. **æ•°æ®åº“éƒ¨ç½²**
           - è§£å‹æ•°æ®åº“åŒ…
           - è¿è¡Œ deploy_database.bat
           - æŒ‰æç¤ºè¾“å…¥MySQLè¿æ¥ä¿¡æ¯
        
        3. **åº”ç”¨ç¨‹åºéƒ¨ç½²**
           - è§£å‹åº”ç”¨ç¨‹åºåŒ…åˆ°ç›®æ ‡ç›®å½•
           - å¤åˆ¶ App.config.template ä¸º App.config
           - ä¿®æ”¹æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
           - è¿è¡Œ MES.UI.exe
        
        ## ğŸ”§ é…ç½®è¯´æ˜
        
        ### æ•°æ®åº“è¿æ¥é…ç½®
        ```xml
        <connectionStrings>
          <add name="MESConnection" 
               connectionString="Server=æ•°æ®åº“æœåŠ¡å™¨;Database=mes_system;Uid=mes_user;Pwd=æ•°æ®åº“å¯†ç ;CharSet=utf8mb4;" 
               providerName="MySql.Data.MySqlClient" />
        </connectionStrings>
        ```
        
        ### é»˜è®¤ç”¨æˆ·è´¦å·
        - ç®¡ç†å‘˜: admin / 123456
        - ç»„é•¿: tianDi / 123456
        - ç‰©æ–™ç®¡ç†: userL / 123456
        - ç”Ÿäº§ç®¡ç†: userH / 123456
        - è½¦é—´ç®¡ç†: userS / 123456
        
        ## ğŸ“ æŠ€æœ¯æ”¯æŒ
        
        å¦‚é‡åˆ°éƒ¨ç½²æˆ–ä½¿ç”¨é—®é¢˜ï¼Œè¯·ï¼š
        1. æŸ¥é˜…ã€ŠMESç³»ç»Ÿéƒ¨ç½²è¿ç»´æŒ‡å—.mdã€‹
        2. æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶
        3. è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ
        
        ---
        **å‘å¸ƒæ—¶é—´**: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')
        **ç‰ˆæœ¬**: ${{ needs.create-release.outputs.version }}
        **æ„å»º**: ${{ github.sha }}
        "@ | Out-File -FilePath "$docsPackagePath/å‘å¸ƒè¯´æ˜.md" -Encoding UTF8
        
        echo "âœ… æ–‡æ¡£åŒ…åˆ›å»ºå®Œæˆ"

    - name: æ‰“åŒ…å‘å¸ƒæ–‡ä»¶
      run: |
        echo "ğŸ“¦ æ‰“åŒ…å‘å¸ƒæ–‡ä»¶..."
        
        # åˆ›å»ºå„ä¸ªå‹ç¼©åŒ…
        $version = "${{ needs.create-release.outputs.version }}"
        
        # åº”ç”¨ç¨‹åºåŒ…
        Compress-Archive -Path "release-packages/app/*" -DestinationPath "mes-system-$version-app.zip" -Force
        echo "âœ… åº”ç”¨ç¨‹åºåŒ…: mes-system-$version-app.zip"
        
        # æ•°æ®åº“åŒ…
        Compress-Archive -Path "release-packages/database/*" -DestinationPath "mes-system-$version-database.zip" -Force
        echo "âœ… æ•°æ®åº“åŒ…: mes-system-$version-database.zip"
        
        # æ–‡æ¡£åŒ…
        Compress-Archive -Path "release-packages/docs/*" -DestinationPath "mes-system-$version-docs.zip" -Force
        echo "âœ… æ–‡æ¡£åŒ…: mes-system-$version-docs.zip"
        
        # å®Œæ•´åŒ…ï¼ˆåŒ…å«æ‰€æœ‰å†…å®¹ï¼‰
        $fullPackagePath = "release-packages/full"
        New-Item -ItemType Directory -Path $fullPackagePath -Force
        Copy-Item -Path "release-packages/app/*" -Destination $fullPackagePath -Recurse -Force
        Copy-Item -Path "release-packages/database" -Destination $fullPackagePath -Recurse -Force
        Copy-Item -Path "release-packages/docs" -Destination $fullPackagePath -Recurse -Force
        
        Compress-Archive -Path "release-packages/full/*" -DestinationPath "mes-system-$version-full.zip" -Force
        echo "âœ… å®Œæ•´åŒ…: mes-system-$version-full.zip"
        
        # æ˜¾ç¤ºæ–‡ä»¶å¤§å°
        Get-ChildItem -Path "mes-system-$version-*.zip" | ForEach-Object {
          $sizeMB = [math]::Round($_.Length / 1MB, 2)
          echo "$($_.Name): ${sizeMB}MB"
        }

    - name: ä¸Šä¼ å‘å¸ƒæ–‡ä»¶
      uses: actions/upload-release-asset@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        upload_url: ${{ needs.create-release.outputs.upload_url }}
        asset_path: ./mes-system-${{ needs.create-release.outputs.version }}-full.zip
        asset_name: mes-system-${{ needs.create-release.outputs.version }}-full.zip
        asset_content_type: application/zip

    - name: ä¸Šä¼ åº”ç”¨ç¨‹åºåŒ…
      uses: actions/upload-release-asset@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        upload_url: ${{ needs.create-release.outputs.upload_url }}
        asset_path: ./mes-system-${{ needs.create-release.outputs.version }}-app.zip
        asset_name: mes-system-${{ needs.create-release.outputs.version }}-app.zip
        asset_content_type: application/zip

    - name: ä¸Šä¼ æ•°æ®åº“åŒ…
      uses: actions/upload-release-asset@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        upload_url: ${{ needs.create-release.outputs.upload_url }}
        asset_path: ./mes-system-${{ needs.create-release.outputs.version }}-database.zip
        asset_name: mes-system-${{ needs.create-release.outputs.version }}-database.zip
        asset_content_type: application/zip

    - name: ä¸Šä¼ æ–‡æ¡£åŒ…
      uses: actions/upload-release-asset@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        upload_url: ${{ needs.create-release.outputs.upload_url }}
        asset_path: ./mes-system-${{ needs.create-release.outputs.version }}-docs.zip
        asset_name: mes-system-${{ needs.create-release.outputs.version }}-docs.zip
        asset_content_type: application/zip

  notify-release:
    name: å‘å¸ƒé€šçŸ¥
    runs-on: windows-latest
    needs: [create-release, build-release]
    if: always()
    
    steps:
    - name: å‘å¸ƒå®Œæˆé€šçŸ¥
      run: |
        echo "ğŸ‰ MESç³»ç»Ÿ ${{ needs.create-release.outputs.version }} å‘å¸ƒå®Œæˆï¼"
        echo ""
        echo "ğŸ“¦ å‘å¸ƒåŒ…ï¼š"
        echo "- å®Œæ•´å®‰è£…åŒ…: mes-system-${{ needs.create-release.outputs.version }}-full.zip"
        echo "- åº”ç”¨ç¨‹åºåŒ…: mes-system-${{ needs.create-release.outputs.version }}-app.zip"
        echo "- æ•°æ®åº“åŒ…: mes-system-${{ needs.create-release.outputs.version }}-database.zip"
        echo "- æ–‡æ¡£åŒ…: mes-system-${{ needs.create-release.outputs.version }}-docs.zip"
        echo ""
        echo "ğŸ”— ä¸‹è½½åœ°å€: ${{ github.server_url }}/${{ github.repository }}/releases/tag/${{ needs.create-release.outputs.version }}"
        echo ""
        echo "ğŸ“‹ ä¸‹ä¸€æ­¥ï¼š"
        echo "1. é€šçŸ¥å›¢é˜Ÿæˆå‘˜æ–°ç‰ˆæœ¬å‘å¸ƒ"
        echo "2. æ›´æ–°éƒ¨ç½²ç¯å¢ƒ"
        echo "3. éªŒè¯æ–°ç‰ˆæœ¬åŠŸèƒ½"
        echo "4. æ”¶é›†ç”¨æˆ·åé¦ˆ"
